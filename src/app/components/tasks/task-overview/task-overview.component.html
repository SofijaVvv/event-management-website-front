<div  class="flex flex-col   bg-color w-full h-screen select-none ">



  <div class="flex p-3 items-center justify-between  pl-4 pr-4 bg-white border-b border-b-gray-300">
    <div>
      <div class=" text-xl text font-family font-medium">{{'assignments' | translate}}</div>

    </div>
    <div class="flex items-center justify-center shadow bg-white rounded " >
      <button mat-button [matMenuTriggerFor]="menu">
        <mat-icon class=" text-[#275C85FF]">unfold_more</mat-icon>
        <div class=" underline decoration-blue-300  decoration-1  font-family text-[#275C85FF]">{{'select.period' | translate}}
        </div>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="loadWeekEvents()">
          <mat-icon> bar_chart</mat-icon>
          <div>{{'timeline.week' | translate}}</div>
        </button>

        <button mat-menu-item (click)="loadLast14DaysEvents()">
          <mat-icon> bar_chart</mat-icon>
          <span>{{'timeline.14days' | translate}}</span>
        </button>

        <button mat-menu-item (click)="loadMonthEvents()">
          <mat-icon> bar_chart</mat-icon>
          <span>{{'timeline.month' | translate}}</span>
        </button>


        <mat-divider></mat-divider>
        <button mat-menu-item [matMenuTriggerFor]="months">
          <mat-icon> bar_chart</mat-icon>
          <span>{{'timeline.select.month' | translate}}</span>
        </button>
        <mat-menu #months>
          <button mat-menu-item *ngFor="let month of monthList" (click)="loadSelectedMonthEvents(month.id -1)">
            <mat-icon>calendar_today</mat-icon>
            <span>{{ month.name }}</span>
          </button>
        </mat-menu>


      </mat-menu>

    </div>
    <div class="flex relative  items-center">

  <div >

    <ng-select class=" custom-select bottom-1 w-40"
               [items]="filterOptions"
               [formControl]="selectedFilter"
               bindLabel="name"
               placeholder="Choose user"
               [virtualScroll]="true"
               [clearable]="false"
               (change)="filterEventsByStatus()"
    >
      <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
        <div>{{item.name}}</div>
      </ng-template>
    </ng-select>
  </div>
</div>
  </div>







<div  class="flex flex-col mt-2   pl-4 pr-4 w-full flex-1 overflow-auto">

  <div class="flex justify-between items-center gap-2 pl-6 mt-2 pr-4  pt-2   ">
    <div class="flex items-center gap-2">
      <div class="w-6 h-6 ">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"  viewBox="0,0,256,256">
          <g fill="#275c85" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.33333,5.33333)"><path d="M24.60742,4.04297c-0.26038,-0.00941 -0.52612,0.01117 -0.79297,0.06445l-15.19727,3.03906c-2.09435,0.41947 -3.61719,2.27651 -3.61719,4.41211v24.88281c0,2.13497 1.52301,3.99326 3.61719,4.41211l15.19727,3.03906c1.94433,0.38861 3.74215,-1.00166 4.06055,-2.89258h9.625c3.01977,0 5.5,-2.48023 5.5,-5.5v-22c0,-3.01977 -2.48023,-5.5 -5.5,-5.5h-9.5v-0.46094c0,-1.90506 -1.56991,-3.4302 -3.39258,-3.49609zM24.40234,7.04883c0.33922,-0.06773 0.59766,0.14345 0.59766,0.49023v32.92188c0,0.34679 -0.25873,0.55818 -0.59766,0.49023c0,-0.00065 0,-0.0013 0,-0.00195l-15.19531,-3.03906c-0.00065,0 -0.0013,0 -0.00195,0c-0.71088,-0.14187 -1.20508,-0.74434 -1.20508,-1.46875v-24.88281c0,-0.72441 0.49538,-1.32817 1.20703,-1.4707zM28,11h9.5c1.39823,0 2.5,1.10177 2.5,2.5v22c0,1.39823 -1.10177,2.5 -2.5,2.5h-9.5zM31.5,15c-0.54095,-0.00765 -1.04412,0.27656 -1.31683,0.74381c-0.27271,0.46725 -0.27271,1.04514 0,1.51238c0.27271,0.46725 0.77588,0.75146 1.31683,0.74381h4c0.54095,0.00765 1.04412,-0.27656 1.31683,-0.74381c0.27271,-0.46725 0.27271,-1.04514 0,-1.51238c-0.27271,-0.46725 -0.77588,-0.75146 -1.31683,-0.74381zM12.99805,17.1582c-0.28884,-0.00771 -0.58395,0.06825 -0.8457,0.23438c-0.698,0.445 -0.90298,1.37131 -0.45899,2.07031l2.98828,4.69531l-2.98828,4.69531c-0.444,0.699 -0.23901,1.62531 0.45899,2.07031c0.25,0.158 0.52869,0.23438 0.80469,0.23438c0.495,0 0.98158,-0.24436 1.26758,-0.69336l2.23438,-3.51172l2.23438,3.50977c0.287,0.449 0.77258,0.69531 1.26758,0.69531c0.276,0 0.55273,-0.07437 0.80273,-0.23437c0.698,-0.445 0.90494,-1.37326 0.46094,-2.07227l-2.98633,-4.69336l2.98633,-4.69336c0.444,-0.699 0.23706,-1.62727 -0.46094,-2.07227c-0.697,-0.444 -1.62431,-0.23906 -2.07031,0.46094l-2.23437,3.50977l-2.23438,-3.51172c-0.27812,-0.4375 -0.74517,-0.68052 -1.22656,-0.69336zM31.5,23c-0.54095,-0.00765 -1.04412,0.27656 -1.31683,0.74381c-0.27271,0.46725 -0.27271,1.04514 0,1.51238c0.27271,0.46725 0.77588,0.75146 1.31683,0.74381h4c0.54095,0.00765 1.04412,-0.27656 1.31683,-0.74381c0.27271,-0.46725 0.27271,-1.04514 0,-1.51238c-0.27271,-0.46725 -0.77588,-0.75146 -1.31683,-0.74381zM31.5,31c-0.54095,-0.00765 -1.04412,0.27656 -1.31683,0.74381c-0.27271,0.46725 -0.27271,1.04514 0,1.51238c0.27271,0.46725 0.77588,0.75146 1.31683,0.74381h4c0.54095,0.00765 1.04412,-0.27656 1.31683,-0.74381c0.27271,-0.46725 0.27271,-1.04514 0,-1.51238c-0.27271,-0.46725 -0.77588,-0.75146 -1.31683,-0.74381z"></path></g></g>
        </svg>
      </div>
      <a (click)="downloadExcel()" class="font-family text-sm  text-[#275C85FF] hover:underline cursor-pointer border-b-blue-500">{{'download.excel' | translate}}</a>
    </div>

    <div class="flex bg-white p-2 shadow rounded-lg items-center gap-2">
      <div class="w-6 h-6 ">
        <svg  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M20 10V7C20 5.89543 19.1046 5 18 5H6C4.89543 5 4 5.89543 4 7V10M20 10V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V10M20 10H4M8 3V7M16 3V7" stroke="#2B88CC" stroke-width="2" stroke-linecap="round"></path> <rect x="6" y="12" width="3" height="3" rx="0.5" fill="#2B88CC"></rect> <rect x="10.5" y="12" width="3" height="3" rx="0.5" fill="#2B88CC"></rect> <rect x="15" y="12" width="3" height="3" rx="0.5" fill="#2B88CC"></rect> </g></svg>
      </div>
      <div class="text-sm  text-[#2B88CC] mt-1">{{ selectedPeriod.start }} - {{ selectedPeriod.end }}</div>
    </div>


    <div class=" m-2  ">
      <div class="relative">
        <div class="absolute inset-y-0  flex items-center ps-3 ">
          <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <input (keyup)="filterEventsByKeyword()" type="search" [formControl]="searchInput" class="block w-48 p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 " placeholder="{{'search' | translate}}" required>
      </div>
    </div>

  </div>
  <div (click)="navigateToEvent(task)" *ngFor="let task of filteredTaskList" class="flex  m-1">
<!--    <div class="w-full flex  justify-between items-center max-h-60 p-5 bg-white border  border-gray-200 rounded-lg shadow cursor-pointer">-->
    <div class=" w-full grid grid-cols-[1fr_min-content_1fr_min-content_1fr] gap-5 items-center  p-5 bg-white border  border-gray-200 rounded-lg shadow cursor-pointer">

      <div class=" text-base font-family  text-[#0e4166]   ">{{task.description}}</div>
      <div>
        <div class="" *ngIf="task.status">
          <svg fill="#77bb41" width="25" height="25" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
               xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <style type="text/css"> .st0 {
                fill: none;
              } </style>
              <g>
                <path
                  d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20c-4.5,0-8-3.5-8-8s3.5-8,8-8s8,3.5,8,8 S16.5,20,12,20z"></path>
                <polygon points="9.8,16.8 6.1,13.2 7.5,11.7 9.8,14 15.5,7.9 17,9.3 "></polygon>
              </g>
              <rect class="st0" width="24" height="24"></rect>
            </g>
          </svg>
        </div>
        <div class=" " *ngIf="!task.status">
          <svg fill="#00BBF0" width="25" height="25" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
               xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0 {
              fill: none;
            } </style>
              <path
                d="M11.7,2c-0.1,0-0.1,0-0.2,0c0,0,0,0-0.1,0v0c-0.2,0-0.3,0-0.5,0l0.2,2c0.4,0,0.9,0,1.3,0c4,0.3,7.3,3.5,7.5,7.6 c0.2,4.4-3.2,8.2-7.6,8.4c0,0-0.1,0-0.2,0c-0.3,0-0.7,0-1,0L11,22c0.4,0,0.8,0,1.3,0c0.1,0,0.3,0,0.4,0v0c5.4-0.4,9.5-5,9.3-10.4 c-0.2-5.1-4.3-9.1-9.3-9.5v0c0,0,0,0,0,0c-0.2,0-0.3,0-0.5,0C12,2,11.9,2,11.7,2z M8.2,2.7C7.7,3,7.2,3.2,6.7,3.5l1.1,1.7 C8.1,5,8.5,4.8,8.9,4.6L8.2,2.7z M4.5,5.4c-0.4,0.4-0.7,0.9-1,1.3l1.7,1C5.4,7.4,5.7,7.1,6,6.7L4.5,5.4z M15.4,8.4l-4.6,5.2 l-2.7-2.1L7,13.2l4.2,3.2l5.8-6.6L15.4,8.4z M2.4,9c-0.2,0.5-0.3,1.1-0.3,1.6l2,0.3c0.1-0.4,0.1-0.9,0.3-1.3L2.4,9z M4.1,13l-2,0.2 c0,0.1,0,0.2,0,0.3c0.1,0.4,0.2,0.9,0.3,1.3l1.9-0.6c-0.1-0.3-0.2-0.7-0.2-1.1L4.1,13z M5.2,16.2l-1.7,1.1c0.3,0.5,0.6,0.9,1,1.3 L6,17.3C5.7,16.9,5.4,16.6,5.2,16.2z M7.8,18.8l-1.1,1.7c0.5,0.3,1,0.5,1.5,0.8l0.8-1.8C8.5,19.2,8.1,19,7.8,18.8z"></path>
              <rect class="st0" width="24" height="24"></rect> </g></svg>
        </div>
      </div>
<div class="flex gap-2 items-center justify-center">
  <div class="text-sm text-[#2B88CC]  text-center" [ngClass]="{'px-3 py-0.5 bg-green-200 w-[50px]  text-green-600 rounded-[100px]' : task.priority.id === 1,'px-4 py-1 bg-yellow-200/80 w-[90px] text-yellow-600 rounded-full' : task.priority.id === 2, 'px-[12px] w-[60px] py-[3px] bg-red-200  text-red-600 rounded-[120px]' : task.priority.id === 3}" >{{task.priority.name}}</div>
</div>

      <div class="text-sm text-[#2B88CC] flex gap-3">
        <svg class="w-5 h-5" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" enable-background="new 0 0 64 64" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path fill="#2B88CC" d="M11,54h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C10,53.553,10.447,54,11,54 z M12,49h4v3h-4V49z"></path> <path fill="#2B88CC" d="M23,54h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C22,53.553,22.447,54,23,54 z M24,49h4v3h-4V49z"></path> <path fill="#2B88CC" d="M35,54h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C34,53.553,34.447,54,35,54 z M36,49h4v3h-4V49z"></path> <path fill="#2B88CC" d="M11,43h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C10,42.553,10.447,43,11,43 z M12,38h4v3h-4V38z"></path> <path fill="#2B88CC" d="M23,43h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C22,42.553,22.447,43,23,43 z M24,38h4v3h-4V38z"></path> <path fill="#2B88CC" d="M35,43h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C34,42.553,34.447,43,35,43 z M36,38h4v3h-4V38z"></path> <path fill="#2B88CC" d="M47,43h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C46,42.553,46.447,43,47,43 z M48,38h4v3h-4V38z"></path> <path fill="#2B88CC" d="M11,32h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C10,31.553,10.447,32,11,32 z M12,27h4v3h-4V27z"></path> <path fill="#2B88CC" d="M23,32h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C22,31.553,22.447,32,23,32 z M24,27h4v3h-4V27z"></path> <path fill="#2B88CC" d="M35,32h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C34,31.553,34.447,32,35,32 z M36,27h4v3h-4V27z"></path> <path fill="#2B88CC" d="M47,32h6c0.553,0,1-0.447,1-1v-5c0-0.553-0.447-1-1-1h-6c-0.553,0-1,0.447-1,1v5C46,31.553,46.447,32,47,32 z M48,27h4v3h-4V27z"></path> <path fill="#2B88CC" d="M60,4h-7V3c0-1.657-1.343-3-3-3s-3,1.343-3,3v1H17V3c0-1.657-1.343-3-3-3s-3,1.343-3,3v1H4 C1.789,4,0,5.789,0,8v52c0,2.211,1.789,4,4,4h56c2.211,0,4-1.789,4-4V8C64,5.789,62.211,4,60,4z M49,3c0-0.553,0.447-1,1-1 s1,0.447,1,1v3v4c0,0.553-0.447,1-1,1s-1-0.447-1-1V6V3z M13,3c0-0.553,0.447-1,1-1s1,0.447,1,1v3v4c0,0.553-0.447,1-1,1 s-1-0.447-1-1V6V3z M62,60c0,1.104-0.896,2-2,2H4c-1.104,0-2-0.896-2-2V17h60V60z M62,15H2V8c0-1.104,0.896-2,2-2h7v4 c0,1.657,1.343,3,3,3s3-1.343,3-3V6h30v4c0,1.657,1.343,3,3,3s3-1.343,3-3V6h7c1.104,0,2,0.896,2,2V15z"></path> </g> </g></svg>
        {{task.created_date}}</div>
      <div class="text-sm flex   justify-center   text-[#2B88CC] ">
        <div class="flex flex-col gap-0.5">
          <div class="text-xs text-gray-500">Operater</div>
          {{task.user.name}}
        </div>
      </div>

    </div>

</div>


</div>

</div>
